<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.feicui.ssm3.mapper.CustomerDao"> 
	<select id="findCustomer" resultType="CustomerDept">
		select c.cid,c.cname,c.cphone,c.cage,d.dname  from customer c,dept d where c.did=d.did;
	</select>
	
	<select id="findept" resultType="Dept">
			select * from dept
	</select>
	
	<insert id="addCustomer" parameterType="Customer">
		insert into customer(cname,cphone,cage,did) values(#{cname},#{cphone},#{cage},#{did})
	</insert>
	
	<delete id="deletecustomer" parameterType="Integer">
		delete from customer where cid=#{cid}
	</delete>
	
	<select id="findone" parameterType="Integer" resultType="Customer">
		select * from customer where cid=#{cid}
	</select>
	
	<update id="updateCustomer" parameterType="Customer">
		update customer
		<set>
            <if test="cname != null">
                cname = #{cname},
            </if>
            <if test="cphone != null">
                cphone = #{cphone},
            </if>
            <if test="cage != null">
                cage = #{cage},
            </if>
            <if test="did != null">
                did = #{did}
            </if>
          </set>
         <where>
           cid = #{cid}
         </where>
	</update>
	
	<delete id="deleteAllUser" parameterType="QueryVo">
		delete from customer
		<where>
			<foreach collection="ids" open=" cid in(" close=")" item="cid" separator=",">
				#{cid}
			</foreach>
		</where>
	</delete>
</mapper>